База данных для хранения пользовательского контента
===============================

Контекст
------
- Необходима система по хранению данных пользовательского контента.
- Нужно сохранять большое количество данных от всех пользователей - рецензии, комментарии, оценки рецензий и фильмов.
Поэтому ожидается, что все эти данные будут достаточно занимать много места на диске.
- Делаем выбор между уже настроенной БД Redis (с дополнительными модулями Redis JSON и Redis Search) и
использованием дополнительной NoSQL базы данных, MongoDB.
- По итогам проведенного [бенчмарка](/docs/benchmarks/storage/README.md)
Redis работает быстрее во всех ситуациях (чтение, запись, обновление).
- Сравнение стоимости managed решений [MongoDB](https://www.mongodb.com/pricing) и
[Redis](https://redis.com/redis-enterprise-cloud/pricing/#calculator).

Решение
------
Добавляем в проект новую базу данных - MongoDB. На начальном этапе используем один инстанс,
в будущем, возможно, настроим кластер или перейдем на managed решение.

Последствия
------
Использование MongoDB позволит существенно сэкономить на инфраструктуре при больших объемах данных.

Redis хранит все данные в оперативной памяти, поэтому понадобятся большие вложения для поддержания кластера,
способного хранить нужные нам объемы.

С другой стороны, добавление новой БД в проект усложняет работу с ним - теперь в сервисе 3 разных хранилища.
К тому же настройка MongoDB и написание клиента для нее займет гораздо больше времени, чем использование уже готовых
репозиториев для работы с Redis.
